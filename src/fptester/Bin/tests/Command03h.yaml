################################################
#
# Прерывание выдачи данных
#
# Код команды:	03h. Длина сообщения: 5 байт.
#   Пароль системного администратора, если пароль сервисной организации не был установлен (4 байта).
#
# Ответ: 		03h. Длина сообщения: 2 байта.
#   Код ошибки (1 байт)
#
################################################
#
#  Команда подается в состояниях:
#  1, Выдача данных
#
#  После команды ФР переходит в предыдущее состояние
#
################################################

name: "Команда 03h"
description: "Прерывание выдачи данных"

tests:
  - name: "Корректная команда"
    testtype: command
    command: "03 00 00 00 00"
    response: "02 00"
    ecrmode_before: 1
    ecrmode_after: 4
    
  - name: "Команда не поддерживается в состоянии 4, Закрытая смена"
    testtype: command
    command: "03 00 00 00 00"
    ecrmode_before: 4
    ecrmode_after: 1
    resultcode: 115
    
  - name: "Команда не поддерживается в состоянии 8, Открытый чек"
    testtype: command
    command: "03 00 00 00 00"
    ecrmode_before: 8
    ecrmode_after: 1
    resultcode: 115
    
  - name: "Команда не поддерживается в состоянии 10, Тестовый прогон"
    testtype: command
    command: "03 00 00 00 00"
    ecrmode_before: 10
    ecrmode_after: 1
    resultcode: 115
   
  - name: "Неверная длина команды 1"
    testtype: command
    command: "03"
    resultcode: 126

  - name: "Неверная длина команды 2"
    testtype: command
    command: "03 1E"
    resultcode: 126
   
  - name: "Неверная длина команды 3"
    testtype: command
    command: "03 00 00 00 00 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF"
    resultcode: 126
    
  - name: "Неверный пароль"
    testtype: command
    command: "03 FF FF FF FF"
    resultcode: 79
