################################################
#
#  Запрос денежного регистра
#  
#  Код команды:	1Ah. Длина сообщения: 6 или 71,2 байт.
#    Пароль оператора (4 байта)
#    Номер регистра (1 байт) 0… 255 или (2 байт) 0…65535
#  
#  Ответ: 1Ah. Длина сообщения: 9 байт.
#    Код ошибки (1 байт)
#    Порядковый номер оператора (1 байт) 1…30
#    Содержимое регистра (6 байт)
#
################################################
#
#  Команда доступна в состояниях:
#  2. Открытая смена, 24 часа не кончились
#  3. Открытая смена, 24 часа кончились
#  4. Закрытая смена
#  8. Открытый документ
#
#  Команда недоступна в состояниях:
#  1. Выдача данных
#  6. Ожидание подтверждения ввода даты
# 
#  Команда не изменяет состояние ФР
#
################################################

name: "Команда 1Ah"
description: "Запрос денежного регистра"

tests:
  - name: "Команда: 1A, длина команды 1, ошибка 126"
    testtype: command
    command: "1A"
    resultcode: 126    
    
  - name: "Команда: 1A, длина команды 7, ошибка 126"
    testtype: command
    command: "1A 1E 00 00 00 00 00 01"
    resultcode: 126    
    
  - name: "Команда: 1A, номер расширенного регистра 0, ошибка 51"
    testtype: command
    command: "1A 1E 00 00 00 00 00"
    resultcode: 51    
    
  - name: "Команда: 1A, номер расширенного регистра 4095, ошибка 51"
    testtype: command
    command: "1A 1E 00 00 00 FF 0F"
    resultcode: 51    
    
  - name: "Команда: 1A, номер регистра 1, ошибок нет"
    testtype: command
    command: "1A 1E 00 00 00 01"
    response: "1A 00 1E XX XX XX XX XX XX"
    resultcode: 00    
    ecrmode_before: 4
    ecrmode_after: 4
    
  - name: "Команда: 1A, номер регистра 256, ошибок нет"
    testtype: command
    command: "1A 1E 00 00 00 FF"
    response: "1A 00 1E XX XX XX XX XX XX"
    resultcode: 00    
    ecrmode_before: 4
    ecrmode_after: 4
    
  - name: "Команда: 1A, номер регистра 4096, ошибок нет"
    testtype: command
    command: "1A 1E 00 00 00 00 10"
    response: "1A 00 1E XX XX XX XX XX XX"
    resultcode: 00    
    ecrmode_before: 4
    ecrmode_after: 4
    
