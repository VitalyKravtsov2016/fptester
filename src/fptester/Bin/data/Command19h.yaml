################################################
#
#  Тестовый прогон
#  
#  Код команды:	19h. Длина сообщения: 6 байт.
#    Пароль оператора (4 байта)
#    Период вывода в минутах (1 байт) 1…99
#  
#  Ответ: 19h. Длина сообщения: 3 байта.
#    Код ошибки (1 байт)
#    Порядковый номер оператора (1 байт) 1…30
#
################################################
#
#  Команда доступна в состояниях:
#  2. Открытая смена, 24 часа не кончились
#  3. Открытая смена, 24 часа кончились
#  4. Закрытая смена
#  8. Открытый документ
#
#  Команда недоступна в состояниях:
#  1. Выдача данных
#  6. Ожидание подтверждения ввода даты
# 
#  Команда меняет состояние ФР на 10, Тестовый прогон.
#
################################################

name: "Команда 19h"
description: "Тестовый прогон"

tests:
  - name: "Команда: 19, длина команды 1, ошибка 126"
    testtype: command
    command: "19"
    resultcode: 126    
    
  - name: "Команда: 19, длина команды 7, ошибка 126"
    testtype: command
    command: "19 1E 00 00 00 01 00"
    resultcode: 126    
    
  - name: "Команда: 19, длина команды 240, ошибка 126"
    testtype: command
    command: "19 1E 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00"
    resultcode: 126    
    
  - name: "Команда: 19, период прогона 0, ошибка 51"
    testtype: command
    command: "19 1E 00 00 00 00"
    resultcode: 51    
    
  - name: "Команда: 19, период прогона 0xFF, ошибка 51"
    testtype: command
    command: "19 1E 00 00 00 FF"
    resultcode: 51    
    
  - name: "Команда: 19, номер документа 100, ошибок нет"
    testtype: command
    command: "19 1E 00 00 00 64"
    resultcode: 51    
    
  - name: "Команда: 19, номер документа 1, ошибок нет"
    testtype: command
    command: "19 1E 00 00 00 01"
    response: "19 00 1E"
    resultcode: 00    
    ecrmode_before: 4
    ecrmode_after: 10
    
  - name: "Команда: 19, номер документа 99, ошибок нет"
    testtype: command
    command: "19 1E 00 00 00 63"
    response: "19 00 1E"
    resultcode: 00    
    ecrmode_before: 4
    ecrmode_after: 10    
    
